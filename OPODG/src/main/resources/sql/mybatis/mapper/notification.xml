<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="notification">
 
  <select id="getNoticeCnt" resultType="string">
    SELECT count(*) FROM notice  
  </select>
   <select id="getNoticeList" resultType="hashmap">
   	<![CDATA[
	SELECT  *
	FROM (
			SELECT 
			@ROWNUM := @ROWNUM + 1 AS ROWNUM,
			seq,
			category,
			title,
			link_url,
			content,
			search_yn,
			search_end_date,
			reg_id,
			reg_date,
			up_id,
			up_date
			FROM notice
			ORDER BY seq DESC
			WHERE ROWNUM <= #{_LIST_END_RECORD}
	    ) INNER_TABLE
	WHERE ROW_SEQ >= #{_LIST_START_RECORD}
    	]]>
  </select>
  <select id="getNoticeDetail" parameterType="hashmap" resultType="hashmap">
   	<![CDATA[
    SELECT 
		seq,
		category,
		title,
		link_url,
		content,
		search_yn,
		search_end_date,
		reg_id,
		reg_date,
		up_id,
		up_date
	 FROM notice
     WHERE seq = #{seq}
    	]]>
  </select>
  <insert id="setNotice" parameterType="hashmap">
   	<![CDATA[
	insert into notice values(
		#{seq},
		#{category},
		#{title},
		#{link_url},
		#{content},
		#{search_yn},
		#{search_end_date},
		#{reg_id},
		#{reg_date},
		'',
		''
	)
    	]]>
  </insert>
</mapper> 